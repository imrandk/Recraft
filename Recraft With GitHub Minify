(async()=>{const t=/Prompt:\s*(.+?)(?=\n|$)/g;let e=[],a=0;const c=t=>new Promise((e=>setTimeout(e,t))),n=async()=>{if(!e.length)return null;const t=e[a];a=(a+1)%e.length;const n=document.querySelector('textarea[data-testid="recraft-textarea"]');return n?(n.focus(),r=n,o=t,Object.getOwnPropertyDescriptor(HTMLTextAreaElement.prototype,"value").set.call(r,o),r.dispatchEvent(new Event("input",{bubbles:!0})),n.dispatchEvent(new Event("change",{bubbles:!0})),await c(100),t):null;var r,o},r=async(t,e=500,a=20)=>{for(let n=0;n<a;n++){const a=document.querySelector('textarea[data-testid="recraft-textarea"]');if(a&&a.value===t)return!0;await c(e)}return!1},o=async()=>document.querySelector('button[data-testid="recraft-button"]')?.click(),i=async(t=1e3,e=30)=>{for(let a=0;a<e;a++){const e=document.querySelector('button[data-testid="recraft-button"]');if(e&&"Recraft"===e.textContent.trim())return!0;await c(t)}return!1},s=async()=>document.querySelector('[data-testid="recraft-topbar-export"] > [data-testid="toggler"]')?.click(),l=async()=>{document.querySelectorAll("button.c-bZNrxE.c-cfmRqm.c-cfmRqm-fGHEql-stretch-true.c-cfmRqm-kumaHe-size-s.c-cfmRqm-ffVEBR-mode-primary.c-nSdQa").forEach((t=>"SVG"===t.textContent.trim()&&null!==t.offsetParent&&!t.disabled&&t.click()))},u=async()=>{const t=document.querySelector("button.c-xHEva:nth-child(2)");t&&null!==t.offsetParent&&!t.disabled&&t.click()},m=()=>{const t=document.querySelector("button.c-bZNrxE.c-cfmRqm.c-cfmRqm-djDtlJ-stretch-false.c-cfmRqm-hdlaDN-size-m.c-cfmRqm-vSIUM-mode-secondary");return"Cancel"===t?.textContent.trim()},d=()=>{const t=document.querySelector("div.c-kWXNTX.c-kWXNTX-ijbiex-visible-true");return t?.textContent.includes("Sorry, we canâ€™t recraft as fast as you click")};try{const a=await(await fetch("https://raw.githubusercontent.com/imrandk/Prompt-Lit/main/Prompt%20List")).text();e=[...a.matchAll(t)].map((t=>t[1])),(async()=>{for(let t=0;t<99;t++){if(m()){console.log("Cancel button found. Stopping execution.");break}await c(2e3);const t=await n();if(!await r(t)){console.log("Prompt not loaded. Skipping this iteration.");continue}await o();let e=!1;for(let t=0;t<5;t++){if(d()){e=!0,console.log("Max Concurrency message found. Retrying the first button.");break}await c(2e3)}e||(await c(1e3),await i(),await c(1e3),await s(),await c(1e3),await l(),await c(1e3),await u(),await c(1e3),await s(),await c(1e3),await l())}})()}catch(t){}})();
