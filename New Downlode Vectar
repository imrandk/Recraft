javascript:!function(){const t=document.createElement("div");Object.assign(t.style,{position:"absolute",width:"300px",height:"200px",backgroundColor:"white",border:"2px solid #ccc",boxShadow:"0 4px 8px rgba(0,0,0,0.1)",top:"50px",left:"50px",resize:"both",overflow:"auto"});const e=document.createElement("div");Object.assign(e.style,{width:"100%",height:"30px",backgroundColor:"#007bff",color:"white",textAlign:"center",lineHeight:"30px",cursor:"move"}),e.textContent="Drag Me",t.appendChild(e);const o=document.createElement("textarea");o.id="promptBoxTextarea",Object.assign(o.style,{width:"100%",height:"calc(100% - 30px)",border:"none",outline:"none",resize:"none",padding:"10px",fontSize:"16px"}),o.placeholder="Write your prompt here (e.g., Prompt: Your text)",t.appendChild(o),document.body.appendChild(t);let n,r,a=!1;const c=e=>{a&&(t.style.left=e.clientX-n+"px",t.style.top=e.clientY-r+"px")};e.addEventListener("mousedown",e=>{a=!0;const o=t.getBoundingClientRect();n=e.clientX-o.left,r=e.clientY-o.top,document.addEventListener("mousemove",c)}),document.addEventListener("mouseup",()=>{a=!1,document.removeEventListener("mousemove",c)});const l=t=>new Promise(e=>setTimeout(e,t)),i='button[data-testid="recraft-button"]',s=()=>{const t=document.querySelector(i);return t&&t.click(),Promise.resolve()},d=(t=1e3,e=15)=>new Promise(o=>{let n=0;const r=setInterval(async()=>{n>=e?(clearInterval(r),o(!1)):await(()=>{const t=document.querySelector(i);return Promise.resolve(t&&"Recraft"===t.textContent.trim())})()&&(clearInterval(r),o(!0)),n++},t)}),u=()=>{const t=document.querySelector('[data-testid="recraft-topbar-export"] > [data-testid="toggler"]');return t&&t.click(),Promise.resolve()},m=()=>{const t=document.querySelector("button.c-xHEva:nth-child(2)");return t&&null!==t.offsetParent&&!t.disabled&&t.click(),Promise.resolve()};let p=!1;const f=()=>{const t=document.querySelector("button.c-bZNrxE.c-cfmRqm.c-cfmRqm-djDtlJ-stretch-false.c-cfmRqm-hdlaDN-size-m.c-cfmRqm-vSIUM-mode-secondary");return!(!t||"Cancel"!==t.textContent.trim()||(t.click(),p=!0,0))},b=()=>{const t=document.querySelector("div.c-kWXNTX.c-kWXNTX-ijbiex-visible-true");return t&&(t.textContent.includes("Sorry, we canâ€™t recraft as fast as you click")||t.textContent.includes("Oops! Something went wrong, please try again later"))},x=async t=>{const e=document.querySelector('textarea[data-testid="recraft-textarea"]');if(!e)return!1;let n=t.trim().replace("Prompt: ","").trim();var r,a;e.focus(),r=e,a=n,Object.getOwnPropertyDescriptor(HTMLTextAreaElement.prototype,"value").set.call(r,a),r.dispatchEvent(new Event("input",{bubbles:!0})),o.value=o.value.replace(t,"").trim()||"";for(let t=0;t<10;t++){f()&&await l(800),await l(1500),await s();let t=!1;for(let e=0;e<3;e++){if(b()){t=!0;break}await l(1500)}if(!t)return await l(800),await d(),await l(800),await u(),await l(800),await document.querySelectorAll('button[data-testid="export-button"]').forEach(t=>{"Export"!==t.textContent.trim()||null===t.offsetParent||t.disabled||t.click()}),Promise.resolve(),await l(2e3),await m(),await l(800),await u(),await l(800),await document.querySelectorAll('button[data-testid="export-button"]').forEach(t=>{"Export"!==t.textContent.trim()||null===t.offsetParent||t.disabled||t.click()}),Promise.resolve(),!0;if(t)return await l(1500),await s(),!1}return!0};let y=!1;o.addEventListener("input",async()=>{if(!y){for(y=!0;;){let t=o.value.trim();if(!t)break;const e=t.split("\n").filter(t=>t.trim().startsWith("Prompt: "));if(0===e.length)break;const n=e[0];if(!await x(n))break}y=!1}}),setInterval(()=>{const t=o.value.trim(),e=t.split("\n").filter(t=>t.trim().startsWith("Prompt: "));!p||t&&0!==e.length||(()=>{const t=document.querySelector('img[data-testid="topbar-avatar"]')?.closest('button,[role="button"],div');["pointerdown","mousedown","mouseup","click"].forEach(e=>t?.dispatchEvent(new MouseEvent(e,{bubbles:!0}))),setTimeout(()=>{const t=document.querySelector('[data-testid="user-logout"]')||document.querySelector(".c-gRsTRw");t&&t.click()},1e3)})()},12e4);const v=["PNG","JPG","SVG","PDF"];setInterval(function(){const t=document.querySelector('[data-testid="export-format-select"]');if(!t||"none"===t.style.display||t.parentElement.querySelector(".custom-btns"))return;const e=t.parentElement;t.style.display="none";const o=e.querySelector('[data-testid="additional-export-options-toggler"]');o&&(o.style.display="none");const n=document.createElement("div");n.className="custom-btns",n.style.display="flex",n.style.gap="8px",v.forEach(e=>{const o=document.createElement("button");o.textContent=e,o.className="c-bZNrxE c-cfmRqm c-cfmRqm-djDtlJ-stretch-false c-cfmRqm-kumaHe-size-s c-cfmRqm-hiMwWw-mode-faded",o.onclick=()=>{n.querySelectorAll("button").forEach(t=>t.className=o.className),o.className=o.className.replace("faded","vSIUM-mode-secondary"),t.click(),requestAnimationFrame(()=>{const o=[...document.querySelectorAll('[role="menuitem"],[role="option"]')].find(t=>t.textContent.trim().toUpperCase()===e);o?o.click():"true"===t.getAttribute("aria-expanded")&&t.click()})},n.appendChild(o)}),e.appendChild(n);const r=[...n.querySelectorAll("button")].find(t=>"SVG"===t.textContent);r?.click()},200)}();
